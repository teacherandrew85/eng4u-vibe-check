<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ENG4U Vibe Check â€“ A/B Quiz</title>
  <style>
    :root {
      --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#9ca3af;
      --accentA:#38bdf8; --accentB:#f472b6; --btnHover:#1f2937;
      --ok:#22c55e; --warn:#f59e0b;
    }
    html,body{
      height:100%; margin:0;
      background:radial-gradient(1200px 800px at 20% -10%, #1e293b 10%, var(--bg) 60%) fixed;
      color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
    }
    .wrap{max-width:720px;margin:0 auto;padding:24px}
    .card{background:rgba(17,24,39,.85);backdrop-filter:blur(6px);border:1px solid #1f2937;border-radius:16px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    h1,h2,h3{margin:0 0 10px}
    .muted{color:var(--muted)} .center{text-align:center}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .space{height:10px}

    .btn{
      flex:1 1 300px;
      border:1px solid #2b3440;
      background:#0b1220;
      color:var(--text);
      padding:14px 16px;
      border-radius:12px;
      cursor:pointer;
      text-align:left;
      transition:transform .05s, background .15s, border-color .15s;
    }
    .btn:hover{ background:var(--btnHover); border-color:#334155 }
    .btn:active{ transform: translateY(1px) scale(.995) }
    .btnA{ box-shadow: inset 0 0 0 1px var(--accentA) }
    .btnB{ box-shadow: inset 0 0 0 1px var(--accentB) }

    .progress{ height:8px; background:#0b1220; border-radius:6px; overflow:hidden; border:1px solid #1f2937; margin:12px 0 18px }
    .bar{ height:100%; width:0%; background:linear-gradient(90deg, var(--accentA), var(--accentB)); transition:width .25s }

    .pill{ display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; letter-spacing:.2px; vertical-align:middle }
    .pillA{ background:rgba(56,189,248,.15); color:#7dd3fc; border:1px solid rgba(56,189,248,.4) }
    .pillB{ background:rgba(244,114,182,.15); color:#f9a8d4; border:1px solid rgba(244,114,182,.4) }

    .cta{ display:inline-block; background:#0ea5e9; color:#001018; font-weight:700; border-radius:10px; padding:10px 14px; border:none; cursor:pointer }
    .cta:hover{ filter:brightness(1.05) }
    .ghost{ display:inline-block; background:transparent; border:1px solid #334155; color:var(--text); border-radius:10px; padding:10px 14px; cursor:pointer }

    .grid2{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px }
    @media (max-width:640px){ .grid2{ grid-template-columns:1fr } }

    .footnote{ font-size:12px; color:var(--muted) }
    .tag{ font-weight:700 }
    .kudos{ color:var(--ok); font-weight:700 }
    .warn{ color:var(--warn); font-weight:700 }
    .tiny{ font-size:12px }

    /* Emoji layout inside buttons */
    .abody{ display:flex; gap:12px; align-items:center }
    .emoji{
      font-size:32px; line-height:1;
      width: 42px; height: 42px;
      display:flex; align-items:center; justify-content:center;
      border-radius:10px; border:1px solid #1f2937; background:#0b1220;
    }
    .atext{ display:flex; flex-direction:column; gap:4px }
    @media (max-width:420px){ .emoji{ font-size:28px; width:38px; height:38px } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">

      <!-- Intro -->
      <section id="screen-intro">
        <h1 class="center">ENG4U Vibe Check</h1>
        <p class="center muted">Choose A or B at each prompt. Your result appears automatically at the end.</p>
        <div class="space"></div>
        <div class="grid2">
          <div>
            <h3>Two Paths</h3>
            <p><span class="pill pillA">A = Thinker</span> calm â€¢ curious â€¢ reflective</p>
            <p><span class="pill pillB">B = Rebel</span> bold â€¢ passionate â€¢ principled</p>
          </div>
          <div>
            <h3>How it works</h3>
            <ol>
              <li>Tap A or B for each text</li>
              <li>Autoâ€‘tally runs in the background</li>
              <li>Result â†’ stamp passport! Get Stamps to win a prize!</li>
            </ol>
          </div>
        </div>
        <div class="space"></div>
        <p class="center"><button class="cta" id="startBtn">Start</button></p>
      </section>

      <!-- Quiz -->
      <section id="screen-quiz" style="display:none">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div><strong id="qTitle">Title</strong></div>
          <div class="tiny muted" id="qCount">1 / 8</div>
        </div>
        <div class="progress"><div class="bar" id="bar"></div></div>
        <h2 id="qPrompt">Prompt</h2>

        <div class="row">
          <!-- A -->
          <button class="btn btnA" id="btnA">
            <div class="abody">
              <span class="emoji" id="iconA" aria-hidden="true">ðŸ§ </span>
              <div class="atext">
                <div class="tag">A â€” <span id="labelA">Label A</span></div>
                <div class="muted tiny" id="blurbA"></div>
              </div>
            </div>
          </button>
          <!-- B -->
          <button class="btn btnB" id="btnB">
            <div class="abody">
              <span class="emoji" id="iconB" aria-hidden="true">ðŸ’“</span>
              <div class="atext">
                <div class="tag">B â€” <span id="labelB">Label B</span></div>
                <div class="muted tiny" id="blurbB"></div>
              </div>
            </div>
          </button>
        </div>

        <div class="space"></div>
        <p class="footnote">Tip: You can edit any text (including emojis) in the <code>QUESTIONS</code> section below.</p>
      </section>

      <!-- Result -->
      <section id="screen-result" style="display:none">
        <h2 id="resultHeading" class="center">You areâ€¦</h2>
        <p id="resultSub" class="center muted">Result details</p>
        <div class="space"></div>
        <div class="grid2">
          <div class="card" style="background:#0b1220">
            <h3>What to do now</h3>
            <ul>
              <li>Show this screen for your passport stamp</li>
              <li>Consider taking ENG4U! This mandatory course is required if you plan to graduate and apply to Canadaâ€™s top colleges and universities. Along the way, you will read unforgettable stories, study Shakespearean drama, explore dystopian fiction, analyze poetry, and examine powerful films. You will debate big questions about identity, freedom, love, power, and technology. Most importantly, you will learn how to take the ideas in your head and communicate them clearly, confidently, and effectively. These are voices that cross time and culture, and they will connect with you in lasting ways.</li>
              <li>Tell a friend their vibe ðŸ˜„</li>
            </ul>
          </div>
          <div class="card" style="background:#0b1220">
            <h3>Your path</h3>
            <p><span class="pill pillA">A (Thinker): <span id="countA">0</span></span></p>
            <p><span class="pill pillB">B (Rebel): <span id="countB">0</span></span></p>
            <p class="tiny muted">Deviceâ€‘local only. Clears if you reset.</p>
          </div>
        </div>
        <div class="space"></div>
        <p class="center">
          <button class="ghost" id="againBtn">Start Over</button>
          <button class="ghost" id="totalsBtn">Teacher Totals</button>
        </p>
        <p id="totalsBox" class="center tiny muted" style="display:none"></p>
      </section>

    </div>
  </div>

  <script>
    /* =========================
       QUESTIONS with emoji icons
       ========================= */
    const QUESTIONS = [
      {
        title:"Hamlet â€” Reflection",
        prompt:"When you're unsure, what drives your decisions?",
        A:{ icon:"ðŸ§ ", label:"Logic & analysis", blurb:"Think first, act second." },
        B:{ icon:"ðŸ’“", label:"Instinct & emotion", blurb:"Feel it, then move." }
      },
      {
        title:"Black Mirror â€” Technology",
        prompt:"Does technology mostly improve life?",
        A:{ icon:"ðŸ¤–", label:"Yes, innovation excites me", blurb:"Curious & adaptable." },
        B:{ icon:"âš ï¸", label:"Not always, it worries me",  blurb:"Cautious & independent." }
      },
      {
        title:"Brave New World â€” Identity",
        prompt:"Would you rather fit in or stand out?",
        A:{ icon:"ðŸ‘¥", label:"Fit in (harmony)",              blurb:"Stable & social." },
        B:{ icon:"ðŸ§­", label:"Stand out (question things)",   blurb:"Independent & inquisitive." }
      },
      {
        title:"Flowers for Algernon â€” Empathy",
        prompt:"What matters more in success?",
        A:{ icon:"ðŸ“ˆ", label:"Intelligence & skill",    blurb:"Growth & mastery." },
        B:{ icon:"ðŸ’ž", label:"Kindness & understanding", blurb:"Human connection first." }
      },
      {
        title:"Princess Mononoke â€” Balance",
        prompt:"Facing conflict, what's your instinct?",
        A:{ icon:"ðŸŒ¿", label:"Seek peace; mediate", blurb:"Bridgeâ€‘builder (Ashitaka)." },
        B:{ icon:"ðŸº", label:"Fight for beliefs",   blurb:"Protector (San)." }
      },
      {
        title:"Harrison Bergeron â€” Freedom",
        prompt:"What matters more to you?",
        A:{ icon:"âš–ï¸", label:"Fairness for all", blurb:"Equalizer mindset." },
        B:{ icon:"ðŸ—½", label:"Freedom first",    blurb:"Liberate potential." }
      },
      {
        title:"Omelas â€” Moral Compass",
        prompt:"Is comfort acceptable if someone suffers for it?",
        A:{ icon:"ðŸŽ‰", label:"Yes (look away)", blurb:"Practical stability." },
        B:{ icon:"ðŸš¶â€â™‚ï¸", label:"No (walk away)",  blurb:"Principled action." }
      },
      {
        title:"Still I Rise â€” Resilience",
        prompt:"When someone doubts you, how do you respond?",
        A:{ icon:"ðŸš€", label:"Prove them wrong",       blurb:"Rising Spirit." },
        B:{ icon:"ðŸŒ³", label:"Ignore & stay grounded", blurb:"Rooted Spirit." }
      }
    ];

    /* =========================
       Outcome copy
       ========================= */
    const OUTCOMES = {
      THINKER:{ title:"Youâ€™re a Thinker", sub:"Calm â€¢ curious â€¢ reflective. Mostly A choices." },
      REBEL:{  title:"Youâ€™re a Rebel",   sub:"Bold â€¢ passionate â€¢ principled. Mostly B choices." }
    };

    /* =========================
       Helpers & element refs
       ========================= */
    const el = id => document.getElementById(id);

    const screenIntro  = el('screen-intro');
    const screenQuiz   = el('screen-quiz');
    const screenResult = el('screen-result');

    const qTitle  = el('qTitle');
    const qPrompt = el('qPrompt');
    const labelA  = el('labelA');
    const labelB  = el('labelB');
    const blurbA  = el('blurbA');
    const blurbB  = el('blurbB');
    const qCount  = el('qCount');
    const bar     = el('bar');

    const iconAEl = el('iconA');
    const iconBEl = el('iconB');

    const countAEl = el('countA');
    const countBEl = el('countB');
    const resultHeading = el('resultHeading');
    const resultSub     = el('resultSub');
    const totalsBox     = el('totalsBox');

    /* =========================
       State & storage
       ========================= */
    let idx = 0, countA = 0, countB = 0;
    const TOTALS_KEY = "eng4u_totals_v1";

    function getTotals(){
      try { return JSON.parse(localStorage.getItem(TOTALS_KEY)) || { thinker:0,rebel:0,attempts:0 }; }
      catch { return { thinker:0,rebel:0,attempts:0 }; }
    }
    function setTotals(t){ localStorage.setItem(TOTALS_KEY, JSON.stringify(t)); }

    /* =========================
       UI flow
       ========================= */
    function showIntro(){
      screenIntro.style.display=''; screenQuiz.style.display='none'; screenResult.style.display='none';
    }
    function startQuiz(){
      idx=0; countA=0; countB=0; totalsBox.style.display='none';
      screenIntro.style.display='none'; screenQuiz.style.display=''; screenResult.style.display='none';
      renderQuestion();
    }
    function renderQuestion(){
      const q = QUESTIONS[idx];

      qTitle.textContent  = q.title;
      qPrompt.textContent = q.prompt;

      // Text
      labelA.textContent = q.A.label;  blurbA.textContent = q.A.blurb;
      labelB.textContent = q.B.label;  blurbB.textContent = q.B.blurb;

      // Emojis (fallback hide if missing)
      iconAEl.textContent = q.A.icon || '';
      iconAEl.style.display = q.A.icon ? '' : 'none';
      iconBEl.textContent = q.B.icon || '';
      iconBEl.style.display = q.B.icon ? '' : 'none';

      qCount.textContent = `${idx+1} / ${QUESTIONS.length}`;
      bar.style.width = `${(idx/QUESTIONS.length)*100}%`;
    }
    function pick(side){
      if(side==='A') countA++; else countB++;
      idx++;
      if(idx < QUESTIONS.length){ renderQuestion(); }
      else { showResult(); }
    }
    function showResult(){
      bar.style.width = `100%`;
      const outcome = (countA >= countB) ? OUTCOMES.THINKER : OUTCOMES.REBEL;
      resultHeading.textContent = outcome.title;
      resultSub.textContent     = outcome.sub;
      countAEl.textContent = countA; countBEl.textContent = countB;

      const t = getTotals();
      if(countA >= countB) t.thinker++; else t.rebel++;
      t.attempts++; setTotals(t);

      screenQuiz.style.display='none'; screenResult.style.display='';
    }
    function showTotals(){
      const t = getTotals();
      totalsBox.innerHTML = `
        Device totals (local only):
        <span class="kudos">Thinker: ${t.thinker}</span> â€¢
        <span class="warn">Rebel: ${t.rebel}</span> â€¢
        Attempts: ${t.attempts}
        <br/><br/>
        <button class="ghost" id="clearTotalsBtn">Clear Device Totals</button>
      `;
      totalsBox.style.display='';
      document.getElementById('clearTotalsBtn').onclick = () => { localStorage.removeItem(TOTALS_KEY); totalsBox.style.display='none'; };
    }

    /* =========================
       Wire up events
       ========================= */
    window.addEventListener('DOMContentLoaded', () => {
      el('startBtn').addEventListener('click', startQuiz);
      el('btnA').addEventListener('click', () => pick('A'));
      el('btnB').addEventListener('click', () => pick('B'));
      el('againBtn').addEventListener('click', startQuiz);
      el('totalsBtn').addEventListener('click', showTotals);
      showIntro();
    });
  </script>
</body>
</html>
